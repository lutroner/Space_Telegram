# Получение фотографий космоса в Telegram

### Описание

Этот проект взаимодействует с API сайтов SpaceX и Nasa для скачивания фотографий космоса и их публикации в Telegram
канал.
Фото публикуются в случайном порядке с определенной задержкой, которую можно менять по своему усмотрению.

### Как установить

У вас должен быть установлен Python3. Затем используйте `pip` (или `pip3`, если есть конфликт с Python2) для
установки зависимостей:

```
pip install -r requirement.txt
```

Рекомендуется использовать [virtualenv/venv](https://docs.python.org/3/library/venv.html) для изоляции проекта.

Также необходимо добавить следующие переменные окружения:

1. ```NASA_ID``` - это API токен Nasa, который можно получить [зарегистрировавшись на сайте](https://api.nasa.gov/).
2. ```SPACEX_ID``` - **flight_id** любого успешного запуска SpaceX. Все запуски можно получить
   [по ссылке](https://api.spacexdata.com/v3/launches). Далее нужно выбрать любой из запусков, для которого по ключу
   **flickr_images** доступен непустой список с ссылками на фото.
3. ```BOT_TOKEN``` - токен вашего Telegram бота. Инструкция по регистрации
   бота [есть по ссылке](https://way23.ru/регистрация-бота-в-telegram/).
4. ```CHAT_ID``` - ID вашего телеграм канала. В самом простом случае публичного канала его id будет ссылкой на канал.
   Например, для канала ```space_telegram``` id будет ```@space_telegram```. Для публикации фото нужно добавить
   созданного в п.3 бота в ваш телеграм канал в качестве администратора. 
5. ```DELAY``` - задержка, с которой происходит публикация случайного фото в телеграм канал.

### Пример использования

Зупустить скрипт ```main.py```, который вначале скачает фотографии , используя перечисленные выше API, а затем начнет
публиковать их в случайном порядке в телеграм канал.

```console
$ python3 main.py 
```

Также, каждый из скриптов можно запускать по-отдельности для скачивания желаемых фото. Если необходимо скачать только
фото SpaceX для определенного запуска:

```console
$ python3 fetch_spacex_images.py 5eb87d47ffd86e000604b38a
```

где ```5eb87d47ffd86e000604b38a``` - пример успешного **fligt_id**.

Для скачивания фото с сайта NASA токен по умолчанию берется из переменной окружения ```NASA_ID```. Можно также указать токен в качестве
параметра ```--nasa_id = ваш токен```. Также можно в качестве аргумента указать желаемое количество фото для скачивания.
Если не передать аргументов, то по умолчанию скачается 5 фото. Например для скачивания дватцати фотографий:

```console
$ python3 apod_nasa_images.py --quantity=20
```
